---
title: "R_TUTORIAL_DESCRIPTIVES"
output: 
  html_document: 
    toc: true
    toc_float: true
---

# Goals for this tutorial:
1. Learn basics of plotting descriptives in R 
2. Learn tools to generate descriptive statistics in R 

```{r setup, include=FALSE}
#load packages that you'll need
library(car)
library(moments)
library(tidyverse)
```

# Let's explore a sample dataset! 
We will use mtcars, available in base R. The data was extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles (1973â€“74 models). For more information, click here: https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html

Frst we will check the data to make sure 
(a) it's a dataframe
(b) what the column names are 
(c) how many rows and columns 
(d) snapshot of the data itself
```{r}
class(mtcars) # it's a data frame! 
names(mtcars) # lists out column names (Variable names)
nrow(mtcars) # number of rows 
ncol(mtcars) # number of columns 
str(mtcars) # get a snaphot of the data inside the dataframe 

```
# 1. skew/ normality of variables 
Pplot histogram of a continuous variable, miles per gallon:
```{r}
 
hist(mtcars$mpg)
```

Next, make your histogram prettier with some extra arguments. base R graphics have many more options, these are just a few to get you started.
```{r}
hist(mtcars$mpg, col= "light blue", main = "", ylab = "Frequency", xlab = "miles per gallon")
```


Quantative assessments of skew:
```{r}
#skewness 
skewness(mtcars$mpg)# positive skew means the Mean > median.
kurtosis(mtcars$mpg) # positive kurtosis means that the tails are thinner than normal distribution.
shapiro.test(mtcars$mpg)  # tests the null hypothesis that the samples came from a normal distribution.
```
 
# 2.Boxplots 
We will use the basic boxplot function available in base R. Boxplots can be created for individual variables quite easily and give you a quick idea of the spread of your data. Here, we will make a boxplot for HP (horsepower).

```{r}
boxplot(mtcars$hp)

# outliers are automatically labeled as dots.
# but you can exclude them if you want (notice that the y axis also automatically changes):
boxplot(mtcars$hp, outline = F)

# what if you prefer horizonal plots? 
boxplot(mtcars$hp, horizontal = TRUE)
```

We can also use grouping variables in boxplots.
```{r}
# hp = y variable, am (Transmission) is our grouping (x) variable
boxplot(hp ~ am, data = mtcars)

# let's make this one prettier by adding axis labels and colors 
boxplot(hp~ am,data=mtcars, 
  	xlab="Transmission Type", ylab="Horsepower", col = c("gold", "darkgreen"))
```



# 3. Basic Descriptives
Frst let's learn how to get range, mean, sd, minimum, maximum, etc.
```{r, include = FALSE}

# if you only care about the range
range(mtcars$mpg)

# if you only want the mean 
mean(mtcars$mpg)

# if you only want the sd
sd(mtcars$mpg)
# the simplest way to get descriptives on a variable 
summary(mtcars$mpg)
# we can also combine them into a table, using the summarise function 
summarise(mtcars, mean=mean(mpg), sd = sd(mpg),  min=min(mpg), max=max(mpg))

```

Quantiles 
```{r}

# quantiles, if you prefer those:
quantile(mtcars$mpg)

# if you only want to extract a specific quartile: 
quantile(mtcars$mpg, (0.25))

```

#4. Descriptives with grouping
We can also generate descriptive statistics based on grouping variables. 
Here we will on the variable mpg (miles per gallon) by 2 factors: transmission type (am) and V/S

```{r}
# the group_by function is from our friend, tidyverse.
# the first argument = your variable of interest 
# second & third arguments are your grouping variables (factors)
grouped <- group_by(mtcars, am, vs)

# now we will extract summary statistics from the grouped data
summarise(grouped, mean=mean(mpg), sd = sd(mpg),  min=min(mpg), max=max(mpg))

```


# 5. Relationships between two continuous variables

```{r}
plot (mpg ~ wt, data = mtcars)

```

# 6. Relationships of many variables
We can use scatterplot matrices  which are a handy & quick way of visualizing relationships between multiple variables in a dataset. This works best when you have 3-5 variables (it gets too hard to read after that) - so let's look at the first 4 variables of mtcars dataset. We can see some nice patterns here right away, mainly that cyl, disp and hp all appear to be correlated with mpg.

```{r}

# 
pairs (mtcars[1:4])

```


# Data challenge:
Now it's your turn!.
This is just one subject's data collected from the behavioral tsask. 
```{r}

# make a histogram of the variable called "Accuracy". 

# what is the skew and kurtosis of Task_Accuracy? Is it normally distributed? 

# make a boxplot comparing accuracy between children and adolescents. 

# what is the mean accuracy for PI children? 

# Is there a linear positive or negative relationship between accuracy and age?

```

